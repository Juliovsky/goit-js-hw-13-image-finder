(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{E5Mm:function(e,t,n){},"Lv/j":function(e,t,n){},QfWi:function(e,t,n){"use strict";n.r(t);n("E5Mm");n("Lv/j");var o=n("dIfx"),s=(n("UOjr"),n("dcBu"));n("PzF0");const i={formInput:document.querySelector("#search-form"),loadButton:document.querySelector(".myButton"),cardsList:document.querySelector(".gallery")};let c=1;i.formInput.addEventListener("submit",a),i.loadButton.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),i.cardsList.addEventListener("click",(function(e){if(console.log(e),"IMG"===e.target.nodeName){s.create(`\n            <div class="modal">\n                <img src="${e.toElement.currentSrc}" width="800" height="600">\n            </div>`).show()}console.log(e.toElement.currentSrc)}));let l="";function a(e){e.preventDefault();let t=i.formInput.querySelector("input");t.value!==l&&(i.cardsList.innerHTML="",c=1),((e,t)=>fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${e}&page=${t}&per_page=12&key=16022582-a19fdcc5907c59857509aea92`).then(e=>e.json()).then(e=>e).catch(e=>console.error("ERROR",e)))(t.value,c).then(e=>{!function(e){if(e.hits.length>0){let t=o.a.success({title:"Success!",text:`${e.hits.length} images were successfully loaded `,modules:{Buttons:{closer:!1,sticker:!1}}});t.on("click",(function(){t.close()}))}else{let e=o.a.error({title:"I have nothing for you",text:"Try once more time. And I will be trying better for you ",modules:{Buttons:{closer:!1,sticker:!1}}});e.on("click",(function(){e.close()}))}}(e),o.a.closeAll(),c++,i.cardsList.insertAdjacentHTML("beforeend",function(e){return console.log(e),e.hits.reduce((e,t)=>e+`<li class=gallery-item><div class="photo-card">\n      <img src="${t.webformatURL}" alt="${t.tags}" width= "350px" height = "250px"/>\n    \n      <div class="stats">\n        <p class="stats-item">\n          <i class="material-icons">thumb_up</i>${t.favorites}\n        </p>\n        <p class="stats-item">\n          <i class="material-icons">visibility</i>${t.views}\n        </p>\n        <p class="stats-item"><i class="material-icons">comment</i>\n          ${t.comments}\n        </p>\n        <p class="stats-item"><i class="material-icons">cloud_download</i>\n         ${t.downloads}\n        </p>\n      </div>\n    </div></li>`,"")}(e))}),l=t.value,console.log("kek")}window.addEventListener("scroll",(function(e){if(!(document.documentElement.getBoundingClientRect().bottom<document.documentElement.clientHeight+100))return;a(e),console.log("info")}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.7ff031b222ad1c3708a0.js.map