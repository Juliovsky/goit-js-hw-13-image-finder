(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{E5Mm:function(t,e,n){},"Lv/j":function(t,e,n){},QfWi:function(t,e,n){"use strict";n.r(e);n("E5Mm");n("Lv/j");var o=n("dIfx"),i=(n("UOjr"),n("dcBu"));n("PzF0");const s={formInput:document.querySelector("#search-form"),loadButton:document.querySelector(".myButton"),cardsList:document.querySelector(".gallery")};let c=1;s.formInput.addEventListener("submit",a),s.loadButton.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"})})),s.cardsList.addEventListener("click",(function(t){if(console.log(t),"IMG"===t.target.nodeName){i.create(`\n            <div class="modal">\n                <img src="${t.toElement.currentSrc}" width="800" height="600">\n            </div>`).show()}console.log(t.toElement.currentSrc)}));let l="";function a(t){t.preventDefault();let e=s.formInput.querySelector("input");e.value!==l&&(s.cardsList.innerHTML="",c=1),((t,e)=>fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${t}&page=${e}&per_page=12&key=16022582-a19fdcc5907c59857509aea92`).then(t=>t.json()).then(t=>t).catch(t=>console.error("ERROR",t)))(e.value,c).then(t=>{!function(t){if(12===t.hits.length){let e=o.a.success({title:"Success!",text:`${t.hits.length} images were successfully loaded `,modules:{Buttons:{closer:!1,sticker:!1}}});e.on("click",(function(){e.close()}))}if(0===t.hits.length){let t=o.a.error({title:"I have nothing for you",text:"Try once more time. And I will be trying better for you ",modules:{Buttons:{closer:!1,sticker:!1}}});t.on("click",(function(){t.close()}))}}(t),o.a.closeAll(),c++,s.cardsList.insertAdjacentHTML("beforeend",function(t){return console.log(t),t.hits.reduce((t,e)=>t+`<li class=gallery-item><div class="photo-card">\n      <img src="${e.webformatURL}" alt="${e.tags}" width= "350px" height = "250px"/>\n    \n      <div class="stats">\n        <p class="stats-item">\n          <i class="material-icons">thumb_up</i>${e.favorites}\n        </p>\n        <p class="stats-item">\n          <i class="material-icons">visibility</i>${e.views}\n        </p>\n        <p class="stats-item"><i class="material-icons">comment</i>\n          ${e.comments}\n        </p>\n        <p class="stats-item"><i class="material-icons">cloud_download</i>\n         ${e.downloads}\n        </p>\n      </div>\n    </div></li>`,"")}(t))}),l=e.value,console.log("kek")}window.addEventListener("scroll",(function(t){if(!(document.documentElement.getBoundingClientRect().bottom<document.documentElement.clientHeight+100))return;a(t),console.log("info")}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.259028631ab289018921.js.map